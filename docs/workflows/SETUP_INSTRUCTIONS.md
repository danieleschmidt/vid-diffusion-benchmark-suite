# GitHub Actions Setup Instructions

## Quick Setup

Copy the workflow templates to activate GitHub Actions:

```bash
# Copy all workflow templates
mkdir -p .github/workflows
cp docs/workflows/templates/*.yml .github/workflows/

# Or copy individual workflows
cp docs/workflows/templates/ci.yml .github/workflows/
cp docs/workflows/templates/security.yml .github/workflows/
cp docs/workflows/templates/release.yml .github/workflows/
```

## Workflow Overview

### 1. Continuous Integration (ci.yml)
- **Triggers**: Push to main/develop, PRs to main
- **Features**: Multi-version Python testing, pre-commit hooks, coverage reporting
- **Artifacts**: Test coverage reports, build artifacts

### 2. Security Scanning (security.yml)
- **Triggers**: Push, PRs, weekly schedule
- **Features**: Bandit, Safety, Semgrep security scans
- **Artifacts**: Security scan reports

### 3. Automated Release (release.yml)  
- **Triggers**: Version tags (v*.*.*), manual dispatch
- **Features**: Automated PyPI publishing, Docker image builds, changelog generation
- **Requirements**: PyPI token, Docker Hub credentials

## Required Secrets

Configure these secrets in GitHub repository settings:

```
# For PyPI publishing (release.yml)
PYPI_TOKEN=<your-pypi-token>

# For Docker publishing (release.yml)
DOCKERHUB_USERNAME=<your-username>
DOCKERHUB_TOKEN=<your-access-token>
```

## Branch Protection Rules

Recommended branch protection for `main`:

- ✅ Require pull request reviews before merging
- ✅ Require status checks to pass before merging
  - `test (3.10)`
  - `test (3.11)` 
  - `test (3.12)`
  - `build`
  - `security-scan`
- ✅ Require branches to be up to date before merging
- ✅ Require conversation resolution before merging
- ✅ Include administrators

## Workflow Customization

### Modify Testing Matrix
Edit `ci.yml` to change Python versions or add test environments:

```yaml
strategy:
  matrix:
    python-version: ['3.10', '3.11', '3.12']  # Modify versions here
    os: [ubuntu-latest, windows-latest, macos-latest]  # Add OS matrix
```

### Adjust Security Scans
Edit `security.yml` to configure security tools:

```yaml
- name: Run Bandit security scan
  run: |
    bandit -r src -ll  # Change to -ll for low severity
```

### Release Configuration
Edit `release.yml` to modify release behavior:

```yaml
prerelease: ${{ contains(github.ref, 'alpha') || contains(github.ref, 'beta') }}
```

## Verification

After copying workflows, verify they work:

1. **Push a commit** to trigger CI
2. **Create a PR** to test PR workflows  
3. **Tag a release** (e.g., `git tag v0.1.1`) to test release workflow

## Troubleshooting

### Common Issues

**Tests failing in CI but pass locally:**
- Check Python version differences
- Verify dependencies are correctly specified
- Check for missing environment variables

**Security scans failing:**
- Install security tools: `pip install bandit safety semgrep`
- Address high/critical security issues first
- Consider using `|| true` for non-blocking scans during development

**Release workflow not triggering:**
- Ensure tag format matches `v*.*.*` (e.g., `v1.0.0`)
- Check that PYPI_TOKEN secret is configured
- Verify package builds successfully locally

### Debug Commands
```bash
# Test builds locally
python -m build

# Run security scans locally  
bandit -r src
safety check

# Test pre-commit hooks
pre-commit run --all-files
```

## Autonomous SDLC Integration

These workflows integrate with the Terragon Autonomous SDLC system:

- **Triggered after PR merges** for continuous value discovery
- **Automated quality gates** prevent regressions
- **Metrics collection** feeds back into value scoring
- **Security scanning** enables automated vulnerability detection

---

*Generated by Terragon Autonomous SDLC System*
